# ⚔️ 삼국지 패왕전 - 상세 개발 설계서

> 100개 세부 태스크 | 예상 총 개발 기간: 8-10주

---

## 📋 태스크 분류

| 카테고리 | 태스크 수 | 예상 시간 |
|----------|----------|----------|
| 🏗️ 프로젝트 셋업 | 8개 | 4h |
| 📊 데이터 설계 | 12개 | 8h |
| 👤 장수 시스템 | 15개 | 20h |
| ⚔️ 전투 시스템 | 18개 | 32h |
| 🗺️ 스테이지/맵 | 10개 | 12h |
| 💤 방치 시스템 | 8개 | 10h |
| 🎰 가챠/상점 | 10개 | 12h |
| 🎨 UI/UX | 12개 | 16h |
| 🔊 사운드/이펙트 | 5개 | 6h |
| 🔧 백엔드/저장 | 8개 | 12h |
| 🧪 테스트/QA | 6개 | 8h |
| **합계** | **112개** | **140h** |

---

## 🏗️ Phase 1: 프로젝트 셋업 (8 Tasks)

### 1.1 개발 환경
| # | 태스크 | 상세 | 시간 |
|---|--------|------|------|
| 001 | 프로젝트 폴더 구조 생성 | `/src`, `/assets`, `/data`, `/styles`, `/utils` | 15m |
| 002 | package.json 초기화 | Phaser 3, PixiJS, Howler.js 의존성 | 15m |
| 003 | Vite 번들러 설정 | dev server, build config | 30m |
| 004 | Phaser 3 보일러플레이트 | Game config, Scene 구조 | 30m |
| 005 | ESLint + Prettier 설정 | 코드 스타일 통일 | 15m |
| 006 | Git 브랜치 전략 수립 | main/dev/feature 구조 | 15m |
| 007 | 배포 파이프라인 | GitHub Pages 자동 배포 | 30m |
| 008 | README 작성 | 설치/실행 가이드 | 15m |

---

## 📊 Phase 2: 데이터 설계 (12 Tasks)

### 2.1 장수 데이터
| # | 태스크 | 상세 | 시간 |
|---|--------|------|------|
| 009 | 장수 스키마 정의 | id, name, grade, class, stats, skills | 30m |
| 010 | 장수 데이터 50명 작성 | N 20, R 15, SR 10, SSR 4, UR 1 | 2h |
| 011 | 장수 성장 공식 설계 | 레벨별 스탯 증가량 | 30m |
| 012 | 승급 요구사항 테이블 | ★1~★5 필요 재료/비용 | 30m |

### 2.2 스킬/계략 데이터
| # | 태스크 | 상세 | 시간 |
|---|--------|------|------|
| 013 | 계략 스키마 정의 | id, type, damage, effect, cooldown | 30m |
| 014 | 계략 30종 설계 | 공격 10, 디버프 8, 버프 7, 회복 5 | 1h |
| 015 | 패시브 스킬 20종 설계 | 조건부 버프, 시너지 효과 | 1h |

### 2.3 게임 밸런스
| # | 태스크 | 상세 | 시간 |
|---|--------|------|------|
| 016 | 데미지 공식 설계 | ATK * (1 - DEF/(DEF+100)) | 30m |
| 017 | 계략 데미지 공식 | INT * skillMultiplier - targetRES | 30m |
| 018 | 스테이지 난이도 곡선 | 적 스탯 스케일링 | 30m |
| 019 | 경험치/골드 드랍 테이블 | 스테이지별 보상 | 30m |
| 020 | 가챠 확률 테이블 | N 60%, R 30%, SR 8%, SSR 1.8%, UR 0.2% | 15m |

---

## 👤 Phase 3: 장수 시스템 (15 Tasks)

### 3.1 장수 클래스
| # | 태스크 | 상세 | 시간 |
|---|--------|------|------|
| 021 | General 베이스 클래스 | 기본 속성, 메서드 정의 | 1h |
| 022 | GeneralStats 클래스 | 5대 스탯 계산 로직 | 30m |
| 023 | GeneralSkill 클래스 | 스킬 발동 조건, 효과 처리 | 1h |
| 024 | GeneralEquipment 클래스 | 장비 슬롯, 스탯 보너스 | 30m |

### 3.2 장수 관리
| # | 태스크 | 상세 | 시간 |
|---|--------|------|------|
| 025 | GeneralManager 싱글톤 | 보유 장수 목록 관리 | 1h |
| 026 | 장수 획득 로직 | 가챠/보상에서 추가 | 30m |
| 027 | 장수 레벨업 로직 | 경험치 소모, 스탯 증가 | 1h |
| 028 | 장수 승급 로직 | 동일 장수 합성, ★ 증가 | 1h |
| 029 | 장수 스킬 레벨업 | 재료 소모, 효과 증가 | 30m |

### 3.3 장수 UI
| # | 태스크 | 상세 | 시간 |
|---|--------|------|------|
| 030 | 장수 목록 화면 | 그리드 뷰, 필터/정렬 | 2h |
| 031 | 장수 상세 화면 | 스탯, 스킬, 장비 표시 | 2h |
| 032 | 장수 레벨업 UI | 경험치 바, 레벨업 버튼 | 1h |
| 033 | 장수 승급 UI | 재료 선택, 합성 연출 | 1h |
| 034 | 장수 일러스트 로드 | lazy loading, placeholder | 30m |
| 035 | 장수 등급 이펙트 | SSR/UR 획득 시 연출 | 1h |

---

## ⚔️ Phase 4: 전투 시스템 (18 Tasks)

### 4.1 전투 코어
| # | 태스크 | 상세 | 시간 |
|---|--------|------|------|
| 036 | BattleScene 생성 | Phaser Scene 기본 구조 | 1h |
| 037 | BattleManager 클래스 | 전투 상태 머신 | 2h |
| 038 | 턴 순서 계산 | 속도 기반 행동 순서 | 30m |
| 039 | 타겟팅 시스템 | 전열 우선, 도발 처리 | 1h |
| 040 | 데미지 계산 엔진 | 공식 적용, 크리티컬 | 1h |

### 4.2 진형 시스템
| # | 태스크 | 상세 | 시간 |
|---|--------|------|------|
| 041 | Formation 클래스 | 3x3 그리드 데이터 | 30m |
| 042 | 진형 배치 UI | 드래그 앤 드롭 | 2h |
| 043 | 진형 프리셋 저장 | 최대 5개 저장 | 1h |
| 044 | 진형 시너지 계산 | 같은 세력/클래스 버프 | 1h |
| 045 | 진형 추천 AI | 자동 최적 배치 | 1h |

### 4.3 스킬/계략 실행
| # | 태스크 | 상세 | 시간 |
|---|--------|------|------|
| 046 | SkillExecutor 클래스 | 스킬 실행 파이프라인 | 2h |
| 047 | 단일 타겟 스킬 | 적 1명 공격 | 30m |
| 048 | 범위 스킬 (전체) | 적 전체 공격 | 30m |
| 049 | 범위 스킬 (열/행) | 종렬/횡렬 관통 | 30m |
| 050 | 버프/디버프 적용 | 지속시간, 중첩 처리 | 1h |
| 051 | 회복 스킬 | HP 회복, 부활 | 30m |

### 4.4 전투 연출
| # | 태스크 | 상세 | 시간 |
|---|--------|------|------|
| 052 | 유닛 스프라이트 배치 | 아군/적군 위치 | 1h |
| 053 | 공격 애니메이션 | 돌진, 타격 모션 | 2h |
| 054 | 스킬 이펙트 (화계) | 불꽃 파티클 | 1h |
| 055 | 스킬 이펙트 (수계) | 물결 파티클 | 1h |
| 056 | 스킬 이펙트 (낙석) | 돌 떨어지는 연출 | 1h |
| 057 | 데미지 숫자 팝업 | 크리티컬 강조 | 30m |
| 058 | HP바 UI | 실시간 감소 연출 | 30m |
| 059 | 승리/패배 연출 | 결과 화면 전환 | 1h |

---

## 🗺️ Phase 5: 스테이지/맵 (10 Tasks)

### 5.1 스테이지 시스템
| # | 태스크 | 상세 | 시간 |
|---|--------|------|------|
| 060 | Stage 데이터 구조 | id, enemies, rewards, requirement | 30m |
| 061 | 스테이지 30개 설계 | 챕터 1~3, 각 10스테이지 | 1h |
| 062 | StageManager 클래스 | 진행도, 언락 관리 | 1h |
| 063 | 스테이지 선택 UI | 챕터별 맵 뷰 | 2h |

### 5.2 보스 시스템
| # | 태스크 | 상세 | 시간 |
|---|--------|------|------|
| 064 | Boss 클래스 | 특수 패턴, 페이즈 | 2h |
| 065 | 보스 3종 설계 | 동탁, 여포, 조조 | 1h |
| 066 | 보스 연출 | 등장 컷신, 대사 | 1h |

### 5.3 보상 시스템
| # | 태스크 | 상세 | 시간 |
|---|--------|------|------|
| 067 | RewardManager 클래스 | 드랍 계산, 지급 | 1h |
| 068 | 클리어 보상 UI | 획득 아이템 연출 | 1h |
| 069 | 별점 시스템 | 1~3성 클리어 조건 | 30m |

---

## 💤 Phase 6: 방치 시스템 (8 Tasks)

### 6.1 오프라인 보상
| # | 태스크 | 상세 | 시간 |
|---|--------|------|------|
| 070 | IdleRewardCalculator | 시간당 보상 계산 | 1h |
| 071 | 마지막 접속 시간 저장 | localStorage/서버 | 30m |
| 072 | 오프라인 보상 팝업 | 접속 시 보상 표시 | 1h |
| 073 | 최대 누적 시간 제한 | 12시간 캡 | 30m |

### 6.2 자동 전투
| # | 태스크 | 상세 | 시간 |
|---|--------|------|------|
| 074 | AutoBattle 모드 | 스테이지 반복 | 2h |
| 075 | 배속 기능 | 1x, 2x, 4x | 1h |
| 076 | 스킵 기능 | 전투 결과만 표시 | 1h |
| 077 | 자동 진행 설정 UI | ON/OFF, 횟수 제한 | 1h |

---

## 🎰 Phase 7: 가챠/상점 (10 Tasks)

### 7.1 가챠 시스템
| # | 태스크 | 상세 | 시간 |
|---|--------|------|------|
| 078 | GachaManager 클래스 | 확률 계산, 천장 | 2h |
| 079 | 단차/10연차 로직 | 10연차 SR 보장 | 1h |
| 080 | 가챠 연출 | 뽑기 애니메이션 | 2h |
| 081 | 천장 시스템 | 90회 SSR 보장 | 30m |
| 082 | 가챠 배너 UI | 픽업 장수 표시 | 1h |

### 7.2 상점
| # | 태스크 | 상세 | 시간 |
|---|--------|------|------|
| 083 | ShopManager 클래스 | 상품 목록, 구매 처리 | 1h |
| 084 | 재화 상점 UI | 보석, 골드 패키지 | 1h |
| 085 | 일일 상점 | 매일 리셋, 할인 상품 | 1h |
| 086 | 이벤트 상점 | 이벤트 재화 교환 | 1h |
| 087 | 구매 확인 팝업 | 재화 부족 처리 | 30m |

---

## 🎨 Phase 8: UI/UX (12 Tasks)

### 8.1 메인 화면
| # | 태스크 | 상세 | 시간 |
|---|--------|------|------|
| 088 | 메인 로비 Scene | 배경, 캐릭터 표시 | 2h |
| 089 | 상단 자원 바 | 골드, 보석, 병량 | 1h |
| 090 | 하단 네비게이션 | 5개 탭 전환 | 1h |
| 091 | 퀵 메뉴 버튼 | 임무, 우편, 이벤트 | 1h |

### 8.2 공통 컴포넌트
| # | 태스크 | 상세 | 시간 |
|---|--------|------|------|
| 092 | 팝업 매니저 | 모달 스택 관리 | 1h |
| 093 | 토스트 메시지 | 획득/에러 알림 | 30m |
| 094 | 로딩 화면 | 프로그레스 바 | 30m |
| 095 | 버튼 컴포넌트 | 눌림/비활성 상태 | 30m |

### 8.3 연출/피드백
| # | 태스크 | 상세 | 시간 |
|---|--------|------|------|
| 096 | 화면 전환 효과 | 페이드, 슬라이드 | 1h |
| 097 | 버튼 터치 피드백 | 진동, 사운드 | 30m |
| 098 | 튜토리얼 시스템 | 하이라이트, 가이드 | 2h |
| 099 | 설정 화면 | 사운드, 푸시, 계정 | 1h |

---

## 🔊 Phase 9: 사운드/이펙트 (5 Tasks)

| # | 태스크 | 상세 | 시간 |
|---|--------|------|------|
| 100 | SoundManager 클래스 | BGM/SFX 관리 | 1h |
| 101 | BGM 3종 적용 | 로비, 전투, 보스 | 1h |
| 102 | SFX 10종 적용 | 타격, 스킬, UI | 1h |
| 103 | 볼륨 컨트롤 | BGM/SFX 개별 조절 | 30m |
| 104 | 무료 에셋 수집 | OpenGameArt 등 | 1h |

---

## 🔧 Phase 10: 백엔드/저장 (8 Tasks)

### 10.1 로컬 저장
| # | 태스크 | 상세 | 시간 |
|---|--------|------|------|
| 105 | SaveManager 클래스 | localStorage 래퍼 | 1h |
| 106 | 자동 저장 | 주요 액션마다 저장 | 30m |
| 107 | 데이터 암호화 | 간단한 치팅 방지 | 1h |
| 108 | 데이터 마이그레이션 | 버전 업데이트 대응 | 1h |

### 10.2 서버 연동 (옵션)
| # | 태스크 | 상세 | 시간 |
|---|--------|------|------|
| 109 | API 클라이언트 | fetch 래퍼, 에러 처리 | 1h |
| 110 | 로그인/회원가입 | 게스트/소셜 로그인 | 2h |
| 111 | 서버 저장 동기화 | 클라우드 세이브 | 2h |
| 112 | 랭킹 API 연동 | 투기장 순위 | 1h |

---

## 🧪 Phase 11: 테스트/QA (6 Tasks)

| # | 태스크 | 상세 | 시간 |
|---|--------|------|------|
| 113 | 유닛 테스트 | 데미지 계산, 가챠 확률 | 2h |
| 114 | 전투 시뮬레이터 | 1000회 자동 전투 밸런스 | 2h |
| 115 | 모바일 테스트 | 터치, 해상도 대응 | 1h |
| 116 | 성능 최적화 | 메모리 누수, FPS | 1h |
| 117 | 버그 트래킹 | GitHub Issues 연동 | 30m |
| 118 | 베타 테스트 | 10명 피드백 수집 | 1h |

---

## 📅 개발 일정 (10주)

| 주차 | Phase | 태스크 | 마일스톤 |
|------|-------|--------|----------|
| 1 | 1, 2 | #001-020 | 프로젝트 셋업, 데이터 완료 |
| 2 | 3 | #021-035 | 장수 시스템 완료 |
| 3-4 | 4 | #036-059 | 전투 시스템 완료 |
| 5 | 5 | #060-069 | 스테이지 완료 |
| 6 | 6 | #070-077 | 방치 시스템 완료 |
| 7 | 7 | #078-087 | 가챠/상점 완료 |
| 8 | 8 | #088-099 | UI 완료 |
| 9 | 9, 10 | #100-112 | 사운드, 저장 완료 |
| 10 | 11 | #113-118 | QA, 런칭 |

---

## 🎯 MVP 체크리스트

### Week 2 데모 (필수 기능만)
- [ ] 장수 5명 표시
- [ ] 3x3 진형 배치
- [ ] 자동 전투 1회
- [ ] 승리/패배 판정

### Week 4 알파 (핵심 루프)
- [ ] 장수 20명
- [ ] 스테이지 10개
- [ ] 레벨업/강화
- [ ] 방치 보상

### Week 6 베타 (전체 기능)
- [ ] 장수 50명
- [ ] 가챠 시스템
- [ ] 상점
- [ ] 튜토리얼

### Week 10 런칭
- [ ] 전체 콘텐츠
- [ ] 밸런스 조정
- [ ] 버그 수정
- [ ] 배포

---

## 📂 폴더 구조

```
/src
  /scenes
    BootScene.js
    PreloadScene.js
    MainScene.js
    BattleScene.js
    GachaScene.js
  /managers
    GameManager.js
    GeneralManager.js
    BattleManager.js
    StageManager.js
    SaveManager.js
    SoundManager.js
  /entities
    General.js
    Skill.js
    Formation.js
    Stage.js
  /ui
    components/
    popups/
  /utils
    Calculator.js
    Constants.js
/assets
  /images
    /generals
    /effects
    /ui
  /audio
    /bgm
    /sfx
/data
  generals.json
  skills.json
  stages.json
  gacha.json
```

---

*상세 설계: 미스 김 | 2026.01.28*
*총 118개 태스크 | 예상 140시간*
