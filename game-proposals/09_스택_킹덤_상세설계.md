# ğŸ—ï¸ ìŠ¤íƒ í‚¹ë¤ - ìƒì„¸ì„¤ê³„ì„œ

## 1. ê²Œì„ ì‹œìŠ¤í…œ ìƒì„¸

### 1.1 ìŠ¤íƒœí‚¹ ì½”ì–´ ë©”ì¹´ë‹‰

#### ë¸”ë¡ ì´ë™ ì‹œìŠ¤í…œ
```csharp
public class BlockController : MonoBehaviour {
    public float moveSpeed = 4f;       // ê¸°ë³¸ ì†ë„
    public float moveRange = 3f;       // ì¢Œìš° ì´ë™ ë²”ìœ„
    public float acceleration = 0.1f;  // ì¸µìˆ˜ë³„ ì†ë„ ì¦ê°€
    
    private float currentSpeed;
    private int direction = 1;
    
    void Update() {
        // ì¢Œìš° ì™•ë³µ ì´ë™
        transform.position += Vector3.right * direction * currentSpeed * Time.deltaTime;
        
        if (Mathf.Abs(transform.position.x) >= moveRange) {
            direction *= -1;
        }
    }
    
    public void SetLevel(int level) {
        // ì¸µìˆ˜ì— ë”°ë¥¸ ì†ë„ ì¦ê°€
        currentSpeed = moveSpeed + (level * acceleration);
        currentSpeed = Mathf.Min(currentSpeed, moveSpeed * 2.5f); // ìµœëŒ€ 2.5ë°°
    }
}
```

#### ë¸”ë¡ ë“œë íŒì •
```csharp
public class StackJudgement {
    public StackResult Judge(Block droppedBlock, Block baseBlock) {
        float overlap = CalculateOverlap(droppedBlock, baseBlock);
        float overlapRatio = overlap / baseBlock.width;
        
        if (overlapRatio >= 0.95f) {
            return StackResult.Perfect;
        } else if (overlapRatio >= 0.90f) {
            return StackResult.Good;
        } else if (overlapRatio >= 0.70f) {
            return StackResult.Okay;
        } else {
            return StackResult.Fail; // íƒˆë½
        }
    }
    
    private float CalculateOverlap(Block top, Block bottom) {
        float leftOverlap = Mathf.Min(top.right, bottom.right);
        float rightOverlap = Mathf.Max(top.left, bottom.left);
        return Mathf.Max(0, leftOverlap - rightOverlap);
    }
}
```

#### íŒì •ë³„ ì²˜ë¦¬
| íŒì • | ì˜¤ë²„ë© ë¹„ìœ¨ | ë¸”ë¡ ì²˜ë¦¬ | ì ìˆ˜ | ì½¤ë³´ |
|------|------------|----------|------|------|
| Perfect | â‰¥95% | 100% ìœ ì§€ + í™•ì¥ | 100 | +1 |
| Good | â‰¥90% | ê·¸ëŒ€ë¡œ ìœ ì§€ | 80 | +1 |
| Okay | â‰¥70% | ì‚ì ¸ë‚˜ì˜¨ ë¶€ë¶„ íƒˆë½ | 50 | ë¦¬ì…‹ |
| Fail | <70% | ê²Œì„ ì˜¤ë²„ | 0 | ë¦¬ì…‹ |

#### ì½¤ë³´ ì‹œìŠ¤í…œ
```
ì—°ì† Perfect ë³´ë„ˆìŠ¤:
- 3ì—°ì†: ì ìˆ˜ x1.5
- 5ì—°ì†: ë¸”ë¡ í­ +10% ë³µêµ¬
- 7ì—°ì†: ì ìˆ˜ x2.0
- 10ì—°ì†: ë¸”ë¡ í­ ì™„ì „ ë³µêµ¬

ì½¤ë³´ ë¦¬ì…‹ ì¡°ê±´:
- Good íŒì • ì´í•˜
- Perfectì´ ì•„ë‹Œ ëª¨ë“  íŒì •
```

### 1.2 ê±´ë¬¼ ì§„í™” ì‹œìŠ¤í…œ

#### ì¸µìˆ˜ë³„ ê±´ë¬¼ ë³€í™”
```csharp
[System.Serializable]
public class BuildingEvolution {
    public int minFloor;
    public int maxFloor;
    public GameObject buildingPrefab;
    public string buildingName;
    public Sprite thumbnail;
    public int goldReward;
}

// ì§„í™” ë‹¨ê³„
public static readonly BuildingEvolution[] Evolutions = {
    new BuildingEvolution { minFloor = 1,  maxFloor = 10, buildingName = "ë†ê°€" },
    new BuildingEvolution { minFloor = 11, maxFloor = 20, buildingName = "ì €íƒ" },
    new BuildingEvolution { minFloor = 21, maxFloor = 30, buildingName = "íƒ‘" },
    new BuildingEvolution { minFloor = 31, maxFloor = 40, buildingName = "ì„±" },
    new BuildingEvolution { minFloor = 41, maxFloor = 50, buildingName = "ëŒ€ì„±ë‹¹" },
    new BuildingEvolution { minFloor = 51, maxFloor = 999, buildingName = "ì²œìƒì˜ ì„±" }
};
```

#### ì‹œê°ì  ë³€í™” ì—°ì¶œ
```
ì¸µ ë³€í™” ì‹œ ì—°ì¶œ:
1. í™”ë©´ í”Œë˜ì‹œ (í°ìƒ‰)
2. ì¹´ë©”ë¼ ì¤Œì•„ì›ƒ
3. ê±´ë¬¼ ëª¨í”„ ì• ë‹ˆë©”ì´ì…˜ (0.5ì´ˆ)
4. ì¶•í•˜ íŒŒí‹°í´ + íš¨ê³¼ìŒ
5. í…ìŠ¤íŠ¸: "ì €íƒìœ¼ë¡œ ì§„í™”!"
```

### 1.3 ì™•êµ­ ì‹œìŠ¤í…œ

#### ì™•êµ­ ë°ì´í„° êµ¬ì¡°
```csharp
[System.Serializable]
public class Kingdom {
    public string kingdomName;
    public int level;
    public int experience;
    public List<PlacedBuilding> buildings;
    public List<Decoration> decorations;
    public int gridWidth = 10;
    public int gridHeight = 10;
}

[System.Serializable]
public class PlacedBuilding {
    public string buildingId;
    public BuildingType type;
    public int evolutionStage;  // ì™„ì„± ì‹œ ì¸µìˆ˜ ê¸°ë°˜
    public Vector2Int position;
    public int rotation;        // 0, 90, 180, 270
    public int level;           // ê°•í™” ë ˆë²¨
}
```

#### ê±´ë¬¼ íƒ€ì… ë° íš¨ê³¼
| ê±´ë¬¼ íƒ€ì… | ê¸°ë³¸ íš¨ê³¼ | ì¸ì ‘ ì‹œë„ˆì§€ |
|----------|----------|------------|
| ğŸ  ì£¼ê±° | ì¸êµ¬ +10/ì‹œê°„ | ê´€ì²­ê³¼ ì¸ì ‘: ì„¸ê¸ˆ +20% |
| ğŸ›ï¸ ê´€ì²­ | ê³¨ë“œ +5/ë¶„ | ì£¼ê±°ì™€ ì¸ì ‘: ì„¸ê¸ˆ ìˆ˜ì… ì¦ê°€ |
| â›ª ì‹ ì „ | ìŠ¤íƒœí‚¹ ì ìˆ˜ +10% | ëª¨ë“  ê±´ë¬¼ íš¨ê³¼ +5% |
| ğŸ—¼ íƒ‘ | ë°©ì–´ë ¥ +50 | ì„±ê³¼ ì¸ì ‘: ë°©ì–´ë ¥ 2ë°° |
| ğŸ° ì„± | ì™•êµ­ ë ˆë²¨ +1 | ëª¨ë“  ì‹œë„ˆì§€ íš¨ê³¼ ê°•í™” |

#### ë°°ì¹˜ ì‹œìŠ¤í…œ
```csharp
public class BuildingPlacement : MonoBehaviour {
    public bool CanPlace(PlacedBuilding building, Vector2Int position) {
        // 1. ê·¸ë¦¬ë“œ ë²”ìœ„ ì²´í¬
        if (!IsWithinGrid(position, building.size)) return false;
        
        // 2. ê¸°ì¡´ ê±´ë¬¼ ì¶©ëŒ ì²´í¬
        if (HasCollision(position, building.size)) return false;
        
        // 3. ì§€í˜• ì²´í¬ (ë¬¼, ì‚° ë“±)
        if (!IsTerrainValid(position)) return false;
        
        return true;
    }
    
    public void CalculateSynergy(Kingdom kingdom) {
        foreach (var building in kingdom.buildings) {
            List<PlacedBuilding> neighbors = GetAdjacentBuildings(building);
            building.synergyBonus = CalculateBonus(building, neighbors);
        }
    }
}
```

### 1.4 ìì› ì‹œìŠ¤í…œ

#### ì¬í™” íƒ€ì…
```csharp
public enum CurrencyType {
    Gold,       // ê¸°ë³¸ ì¬í™” - ìŠ¤íƒœí‚¹ ë³´ìƒ
    Gems,       // í”„ë¦¬ë¯¸ì—„ ì¬í™” - IAP
    Bricks,     // ê±´ë¬¼ ê°•í™” ì¬ë£Œ
    Population  // ì¸êµ¬ - ê±´ë¬¼ ìš´ì˜ì— í•„ìš”
}
```

#### ìˆ˜ì… ê³„ì‚°
```csharp
public class IncomeCalculator {
    public int CalculateGoldPerMinute(Kingdom kingdom) {
        int baseIncome = 0;
        
        foreach (var building in kingdom.buildings) {
            int buildingIncome = GetBuildingBaseIncome(building);
            float synergyMultiplier = 1f + building.synergyBonus;
            float levelMultiplier = 1f + (building.level * 0.1f);
            
            baseIncome += (int)(buildingIncome * synergyMultiplier * levelMultiplier);
        }
        
        return baseIncome;
    }
}
```

### 1.5 ì±Œë¦°ì§€ ëª¨ë“œ

#### ì¼ì¼ ì±Œë¦°ì§€ íƒ€ì…
| ì±Œë¦°ì§€ | ì„¤ëª… | ë‚œì´ë„ ë°°ìœ¨ |
|--------|------|------------|
| ì†ë„ ì¦ê°€ | ë¸”ë¡ ì´ë™ ì†ë„ 1.5ë°° | x1.5 |
| ì¢ì€ ë¸”ë¡ | ì‹œì‘ ë¸”ë¡ í­ 50% | x2.0 |
| ë°”ëŒ íš¨ê³¼ | ë¸”ë¡ì´ ëœë¤í•˜ê²Œ ë°€ë¦¼ | x1.8 |
| ì‹œê°„ ì œí•œ | 30ì´ˆ ë‚´ ìµœëŒ€ ì¸µìˆ˜ | x1.3 |
| ì—­ë°©í–¥ | ë¸”ë¡ì´ ìœ„ì—ì„œ ì•„ë˜ë¡œ | x1.7 |
| ì•ˆê°œ | íŒì • ì˜ì—­ì´ ì•ˆ ë³´ì„ | x2.5 |

#### ì£¼ê°„ í† ë„ˆë¨¼íŠ¸
```csharp
[System.Serializable]
public class Tournament {
    public DateTime startTime;
    public DateTime endTime;
    public ChallengeType challengeType;
    public List<TournamentEntry> leaderboard;
}

[System.Serializable]
public class TournamentEntry {
    public string playerId;
    public string playerName;
    public int highScore;
    public int highestFloor;
    public DateTime submittedAt;
}

// ë³´ìƒ ë“±ê¸‰
// Top 1: 500 ì ¬ + ì „ì„¤ ê±´ë¬¼ ìŠ¤í‚¨
// Top 10: 200 ì ¬ + ì—í”½ ê±´ë¬¼ ìŠ¤í‚¨
// Top 100: 100 ì ¬ + ë ˆì–´ ê±´ë¬¼ ìŠ¤í‚¨
// ì°¸ê°€: 50 ì ¬
```

---

## 2. UI/UX ì„¤ê³„

### 2.1 ìŠ¤íƒœí‚¹ ê²Œì„ í™”ë©´ (ì„¸ë¡œëª¨ë“œ)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â¸  FLOOR: 25   SCORE: 12,450     â”‚ â† ìƒë‹¨ HUD
â”‚     ğŸ”¥ COMBO: 7                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                    â”‚
â”‚         â•â•â•â•â•â•â•â•â•â•â•              â”‚ â† ì´ë™ ì¤‘ì¸ ë¸”ë¡
â”‚              â†”                    â”‚
â”‚                                    â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚    â”‚                         â”‚    â”‚
â”‚    â”‚    [ìŒ“ì¸ ë¸”ë¡ íƒ€ì›Œ]      â”‚    â”‚
â”‚    â”‚                         â”‚    â”‚
â”‚    â”‚    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     â”‚    â”‚
â”‚    â”‚    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ        â”‚    â”‚
â”‚    â”‚    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ           â”‚    â”‚ â† ì ì  ì¢ì•„ì§€ëŠ” íƒ€ì›Œ
â”‚    â”‚    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ            â”‚    â”‚
â”‚    â”‚    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â”‚    â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                    â”‚
â”‚    [ê±´ë¬¼ ë¯¸ë¦¬ë³´ê¸°: ì €íƒ ğŸ›ï¸]       â”‚
â”‚                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         [   TAP TO DROP   ]        â”‚ â† í„°ì¹˜ ì˜ì—­ (í™”ë©´ ì „ì²´)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 íŒì • í”¼ë“œë°±
```
Perfect:
- í…ìŠ¤íŠ¸: "PERFECT!" (ê³¨ë“œ, í¬ê²Œ)
- ë¸”ë¡: ë¹›ë‚˜ëŠ” í…Œë‘ë¦¬
- ì§„ë™: ì§§ì€ í–…í‹±
- ì‚¬ìš´ë“œ: ë†’ì€ ìŒ "ë”©!"
- íŒŒí‹°í´: ë³„ í­ë°œ

Good:
- í…ìŠ¤íŠ¸: "GOOD" (í°ìƒ‰)
- ë¸”ë¡: ê¸°ë³¸
- ì‚¬ìš´ë“œ: ë³´í†µ ìŒ

Okay:
- í…ìŠ¤íŠ¸: "OKAY" (ë…¸ë€ìƒ‰)
- ë¸”ë¡: ì‚ì ¸ë‚˜ì˜¨ ë¶€ë¶„ ë–¨ì–´ì§ (ë¬¼ë¦¬)
- ì‚¬ìš´ë“œ: ë‚®ì€ ìŒ
- í™”ë©´: ì•½ê°„ í”ë“¤ë¦¼

Fail:
- í…ìŠ¤íŠ¸: "GAME OVER"
- íƒ€ì›Œ: ë¶•ê´´ ì• ë‹ˆë©”ì´ì…˜
- ìŠ¬ë¡œìš° ëª¨ì…˜: 0.3x
- ì§„ë™: ê°•í•œ í–…í‹±
```

### 2.3 ì™•êµ­ í™”ë©´
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘‘ ë‚˜ì˜ ì™•êµ­  Lv.5    ğŸ’° 5,420    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ°                          â”‚  â”‚
â”‚  â”‚    ğŸ  ğŸ  ğŸ›ï¸                 â”‚  â”‚ â† ë°°ì¹˜ëœ ê±´ë¬¼ë“¤
â”‚  â”‚       â›ª ğŸ—¼                  â”‚  â”‚   (ì•„ì´ì†Œë©”íŠ¸ë¦­ ë·°)
â”‚  â”‚ ğŸ        ğŸ                   â”‚  â”‚
â”‚  â”‚    ğŸŒ³ ğŸŒ³    ğŸŒ³              â”‚  â”‚ â† ë°ì½”ë ˆì´ì…˜
â”‚  â”‚                              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                    â”‚
â”‚  â† [í™•ëŒ€/ì¶•ì†Œ/íšŒì „ ì œìŠ¤ì²˜]         â”‚
â”‚                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ ë°°ì¹˜] [ğŸ®í”Œë ˆì´] [ğŸ›’ìƒì ] [ğŸ“Š] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.4 ê±´ë¬¼ ë°°ì¹˜ UI
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â†              ê±´ë¬¼ ë°°ì¹˜          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ì™•êµ­ ê·¸ë¦¬ë“œ ë·°]                  â”‚
â”‚                                    â”‚
â”‚       â—»ï¸ â—»ï¸ â—»ï¸ â—»ï¸ â—»ï¸             â”‚
â”‚       â—»ï¸ ğŸ  â—»ï¸ â—»ï¸ â—»ï¸             â”‚
â”‚       â—»ï¸ â—»ï¸ [ğŸ‘†] â—»ï¸ â—»ï¸           â”‚ â† ë“œë˜ê·¸ë¡œ ë°°ì¹˜
â”‚       â—»ï¸ â—»ï¸ â—»ï¸ â›ª â—»ï¸             â”‚
â”‚       â—»ï¸ â—»ï¸ â—»ï¸ â—»ï¸ â—»ï¸             â”‚
â”‚                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ê±´ë¬¼ ì¸ë²¤í† ë¦¬]                    â”‚
â”‚                                    â”‚
â”‚  ğŸ x3  ğŸ›ï¸x1  â›ªx0  ğŸ—¼x2  ğŸ°x0    â”‚
â”‚                                    â”‚
â”‚ ì„ íƒ: ì €íƒ ğŸ›ï¸                     â”‚
â”‚ íš¨ê³¼: ê³¨ë“œ +10/ë¶„                  â”‚
â”‚ ì‹œë„ˆì§€: ì£¼ê±°ì™€ ì¸ì ‘ ì‹œ +20%        â”‚
â”‚                                    â”‚
â”‚ [ë°°ì¹˜] [íšŒì „ ğŸ”„] [ì·¨ì†Œ]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.5 ë©”ë‰´ í”Œë¡œìš°
```
[ë©”ì¸ ë©”ë‰´]
    â”‚
    â”œâ”€â†’ [í”Œë ˆì´] â†’ ìŠ¤íƒœí‚¹ ê²Œì„
    â”‚
    â”œâ”€â†’ [ì™•êµ­]
    â”‚       â”œâ”€â†’ [ì™•êµ­ ë³´ê¸°]
    â”‚       â”œâ”€â†’ [ê±´ë¬¼ ë°°ì¹˜]
    â”‚       â””â”€â†’ [ê±´ë¬¼ ê°•í™”]
    â”‚
    â”œâ”€â†’ [ì±Œë¦°ì§€]
    â”‚       â”œâ”€â†’ [ì¼ì¼ ì±Œë¦°ì§€]
    â”‚       â””â”€â†’ [ì£¼ê°„ í† ë„ˆë¨¼íŠ¸]
    â”‚
    â”œâ”€â†’ [ìƒì ]
    â”‚       â”œâ”€â†’ [í…Œë§ˆ/ìŠ¤í‚¨]
    â”‚       â”œâ”€â†’ [ë°ì½”]
    â”‚       â””â”€â†’ [íŒ¨ìŠ¤]
    â”‚
    â””â”€â†’ [ì„¤ì •]
```

---

## 3. ë°¸ëŸ°ì‹± ìˆ˜ì¹˜

### 3.1 ìŠ¤íƒœí‚¹ ì ìˆ˜
```
ê¸°ë³¸ ì ìˆ˜ = ì¸µìˆ˜ Ã— 10 + íŒì • ì ìˆ˜

ì¸µìˆ˜ ë³´ë„ˆìŠ¤:
- 10ì¸µ ë‹¬ì„±: +500
- 20ì¸µ ë‹¬ì„±: +1,000
- 30ì¸µ ë‹¬ì„±: +2,000
- 40ì¸µ ë‹¬ì„±: +4,000
- 50ì¸µ ë‹¬ì„±: +10,000

ì½¤ë³´ ë°°ìœ¨:
- 5ì½¤ë³´: x1.2
- 10ì½¤ë³´: x1.5
- 15ì½¤ë³´: x2.0
- 20ì½¤ë³´+: x2.5
```

### 3.2 ë¸”ë¡ ë¬¼ë¦¬ ìˆ˜ì¹˜
| íŒŒë¼ë¯¸í„° | ê°’ | ì„¤ëª… |
|---------|-----|------|
| ì´ˆê¸° ë¸”ë¡ í­ | 3.0 ìœ ë‹› | ì‹œì‘ í¬ê¸° |
| ìµœì†Œ ë¸”ë¡ í­ | 0.5 ìœ ë‹› | ì´ ì´í•˜ë©´ ê²Œì„ì˜¤ë²„ |
| ì´ë™ ì†ë„ (ê¸°ë³¸) | 4.0 ìœ ë‹›/ì´ˆ | 1ì¸µ |
| ì´ë™ ì†ë„ (ìµœëŒ€) | 10.0 ìœ ë‹›/ì´ˆ | 50ì¸µ+ |
| ì†ë„ ì¦ê°€ìœ¨ | +0.12/ì¸µ | ì„ í˜• ì¦ê°€ |
| Perfect ë³µêµ¬ëŸ‰ | +10% | 5ì—°ì† Perfect |
| íƒˆë½ ë¬¼ë¦¬ | ì§ˆëŸ‰ 1.0, ì¤‘ë ¥ 15 | ë–¨ì–´ì§€ëŠ” ë¸”ë¡ |

### 3.3 ê±´ë¬¼ ìˆ˜ìµ í…Œì´ë¸”
| ê±´ë¬¼ (ì§„í™” ë‹¨ê³„) | ê¸°ë³¸ ê³¨ë“œ/ë¶„ | ìµœëŒ€ ë ˆë²¨ | ê°•í™” ë¹„ìš© |
|----------------|-------------|----------|----------|
| ë†ê°€ (1-10ì¸µ) | 1 | 5 | 100/Lv |
| ì €íƒ (11-20ì¸µ) | 3 | 10 | 300/Lv |
| íƒ‘ (21-30ì¸µ) | 8 | 15 | 800/Lv |
| ì„± (31-40ì¸µ) | 20 | 20 | 2,000/Lv |
| ëŒ€ì„±ë‹¹ (41-50ì¸µ) | 50 | 25 | 5,000/Lv |
| ì²œìƒì˜ ì„± (51ì¸µ+) | 100 | 30 | 10,000/Lv |

### 3.4 ì™•êµ­ ë ˆë²¨
| ë ˆë²¨ | í•„ìš” ê²½í—˜ì¹˜ | ê·¸ë¦¬ë“œ í™•ì¥ | í•´ê¸ˆ |
|------|------------|------------|------|
| 1 | 0 | 5x5 | ê¸°ë³¸ |
| 2 | 500 | 6x6 | ë°ì½” 1 |
| 3 | 1,500 | 7x7 | ìƒˆ í…Œë§ˆ |
| 4 | 4,000 | 8x8 | ë°ì½” 2 |
| 5 | 10,000 | 9x9 | ìƒˆ í…Œë§ˆ |
| 10 | 100,000 | 12x12 | VIP ë°ì½” |

### 3.5 ì—ë„ˆì§€ ì‹œìŠ¤í…œ
```
ìµœëŒ€ ì—ë„ˆì§€: 10
ì¶©ì „ ì†ë„: 5ë¶„ / 1ì—ë„ˆì§€
ì†Œëª¨ëŸ‰: 1 / 1í”Œë ˆì´
ê´‘ê³  ì¶©ì „: +2 ì—ë„ˆì§€ (5íšŒ/ì¼)
```

### 3.6 IAP ê°€ê²©í‘œ
| ìƒí’ˆ | ê°€ê²© | ë‚´ìš©ë¬¼ |
|------|------|--------|
| ê´‘ê³  ì œê±° | $2.99 | ì „ë©´ ê´‘ê³  ì˜êµ¬ ì œê±° |
| ìŠ¤íƒ€í„° íŒ© | $1.99 | ì ¬ 100 + ê³¨ë“œ 5,000 |
| í…Œë§ˆ íŒ© (ì¤‘ì„¸) | $1.99 | ê±´ë¬¼ ìŠ¤í‚¨ 6ì¢… |
| í…Œë§ˆ íŒ© (ë™ì–‘) | $1.99 | ê±´ë¬¼ ìŠ¤í‚¨ 6ì¢… |
| í…Œë§ˆ íŒ© (SF) | $2.99 | ê±´ë¬¼ ìŠ¤í‚¨ 6ì¢… + íŠ¹ìˆ˜ íš¨ê³¼ |
| ì‹œì¦Œ íŒ¨ìŠ¤ | $4.99 | 30ì¼ í•œì • ê±´ë¬¼ + 2ë°° ë³´ìƒ |

---

## 4. ê¸°ìˆ  êµ¬í˜„ ì‚¬í•­

### 4.1 ë¸”ë¡ ìŠ¤íƒœí‚¹ ë¬¼ë¦¬
```csharp
public class StackPhysics : MonoBehaviour {
    public void DropBlock(Block block, Block baseBlock) {
        // 1. ì˜¤ë²„ë© ê³„ì‚°
        float overlap = CalculateOverlap(block, baseBlock);
        StackResult result = Judge(overlap);
        
        // 2. ë¸”ë¡ ìë¥´ê¸° (Okay ì´í•˜)
        if (result == StackResult.Okay) {
            SliceBlock(block, baseBlock);
        }
        
        // 3. ë–¨ì–´ì§€ëŠ” ì¡°ê° ìƒì„±
        if (overlap < baseBlock.width) {
            CreateFallingPiece(block, overlap);
        }
        
        // 4. ë¸”ë¡ ê³ ì •
        block.transform.SetParent(towerParent);
        block.GetComponent<Rigidbody>().isKinematic = true;
    }
    
    private void SliceBlock(Block block, Block baseBlock) {
        // ë©”ì‹œ ìŠ¬ë¼ì´ì‹± ë˜ëŠ” í”„ë¦¬íŒ¹ êµì²´
        float overlapAmount = CalculateOverlap(block, baseBlock);
        block.transform.localScale = new Vector3(
            overlapAmount / block.originalWidth,
            1f, 1f
        );
    }
    
    private void CreateFallingPiece(Block block, float overlap) {
        // ë–¨ì–´ì§€ëŠ” ì¡°ê° ìƒì„±
        GameObject piece = Instantiate(fallingPiecePrefab);
        piece.transform.localScale = new Vector3(
            (block.width - overlap), 1f, 1f
        );
        
        // ë¬¼ë¦¬ ì ìš©
        Rigidbody rb = piece.GetComponent<Rigidbody>();
        rb.AddForce(Vector3.down * 10f, ForceMode.Impulse);
        rb.AddTorque(Random.insideUnitSphere * 5f);
        
        // 3ì´ˆ í›„ ì œê±°
        Destroy(piece, 3f);
    }
}
```

### 4.2 ì¹´ë©”ë¼ ì‹œìŠ¤í…œ
```csharp
public class StackCamera : MonoBehaviour {
    public float smoothSpeed = 5f;
    public float heightOffset = 5f;
    public float zoomOutOnEvolution = 2f;
    
    private Vector3 targetPosition;
    private float targetSize;
    
    void Update() {
        // íƒ€ì›Œ ë†’ì´ì— ë”°ë¼ ì¹´ë©”ë¼ ì¶”ì 
        float towerHeight = currentFloor * blockHeight;
        targetPosition = new Vector3(0, towerHeight + heightOffset, -10f);
        
        transform.position = Vector3.Lerp(
            transform.position, 
            targetPosition, 
            smoothSpeed * Time.deltaTime
        );
    }
    
    public void OnBuildingEvolution() {
        // ì§„í™” ì‹œ ì¤Œì•„ì›ƒ ì—°ì¶œ
        StartCoroutine(ZoomOutEffect());
    }
    
    IEnumerator ZoomOutEffect() {
        Camera cam = Camera.main;
        float originalSize = cam.orthographicSize;
        float targetSize = originalSize + zoomOutOnEvolution;
        
        // ì¤Œì•„ì›ƒ
        yield return DOTween.To(
            () => cam.orthographicSize,
            x => cam.orthographicSize = x,
            targetSize, 0.5f
        ).SetEase(Ease.OutQuad).WaitForCompletion();
        
        yield return new WaitForSeconds(1f);
        
        // ë³µê·€
        yield return DOTween.To(
            () => cam.orthographicSize,
            x => cam.orthographicSize = x,
            originalSize, 0.5f
        ).SetEase(Ease.InQuad).WaitForCompletion();
    }
}
```

### 4.3 ì™•êµ­ ê·¸ë¦¬ë“œ ì‹œìŠ¤í…œ
```csharp
public class KingdomGrid : MonoBehaviour {
    public int width = 10;
    public int height = 10;
    public float cellSize = 1f;
    
    private GridCell[,] grid;
    
    public void Initialize() {
        grid = new GridCell[width, height];
        for (int x = 0; x < width; x++) {
            for (int y = 0; y < height; y++) {
                grid[x, y] = new GridCell {
                    position = new Vector2Int(x, y),
                    isOccupied = false,
                    building = null
                };
            }
        }
    }
    
    public bool TryPlaceBuilding(PlacedBuilding building, Vector2Int pos) {
        // ê³µê°„ í™•ì¸
        for (int x = 0; x < building.size.x; x++) {
            for (int y = 0; y < building.size.y; y++) {
                if (grid[pos.x + x, pos.y + y].isOccupied) {
                    return false;
                }
            }
        }
        
        // ë°°ì¹˜
        for (int x = 0; x < building.size.x; x++) {
            for (int y = 0; y < building.size.y; y++) {
                grid[pos.x + x, pos.y + y].isOccupied = true;
                grid[pos.x + x, pos.y + y].building = building;
            }
        }
        
        // ì‹œë„ˆì§€ ì¬ê³„ì‚°
        RecalculateSynergies();
        return true;
    }
}
```

### 4.4 ì˜¤í”„ë¼ì¸ ìˆ˜ìµ ê³„ì‚°
```csharp
public class OfflineIncomeManager : MonoBehaviour {
    public void CalculateOfflineReward() {
        DateTime lastPlayTime = LoadLastPlayTime();
        TimeSpan offlineTime = DateTime.Now - lastPlayTime;
        
        // ìµœëŒ€ 8ì‹œê°„ê¹Œì§€ë§Œ ê³„ì‚°
        float hours = Mathf.Min((float)offlineTime.TotalHours, 8f);
        
        int goldPerMinute = CalculateKingdomIncome();
        int totalReward = (int)(goldPerMinute * hours * 60);
        
        // ê´‘ê³  ì‹œì²­ ì‹œ 2ë°°
        ShowOfflineRewardPopup(totalReward);
    }
    
    private void ShowOfflineRewardPopup(int reward) {
        // UI í‘œì‹œ
        offlinePopup.SetReward(reward);
        offlinePopup.SetDoubleRewardCallback(() => {
            AdManager.ShowRewardedAd(() => {
                GiveReward(reward * 2);
            });
        });
        offlinePopup.Show();
    }
}
```

### 4.5 ë°ì´í„° ì €ì¥
```csharp
[System.Serializable]
public class SaveData {
    public int gold;
    public int gems;
    public int bricks;
    
    public Kingdom kingdom;
    public List<BuildingInventoryItem> buildingInventory;
    
    public int highScore;
    public int highestFloor;
    public int totalGamesPlayed;
    
    public DateTime lastPlayTime;
    public int energy;
    
    public Dictionary<string, bool> achievements;
    public TournamentData currentTournament;
}

public class SaveManager : MonoBehaviour {
    private const string SAVE_KEY = "stack_kingdom_save";
    
    public void Save(SaveData data) {
        string json = JsonUtility.ToJson(data);
        string encrypted = Encrypt(json);
        PlayerPrefs.SetString(SAVE_KEY, encrypted);
        PlayerPrefs.Save();
    }
    
    public SaveData Load() {
        if (!PlayerPrefs.HasKey(SAVE_KEY)) {
            return CreateNewSave();
        }
        
        string encrypted = PlayerPrefs.GetString(SAVE_KEY);
        string json = Decrypt(encrypted);
        return JsonUtility.FromJson<SaveData>(json);
    }
}
```

### 4.6 ì„±ëŠ¥ ìµœì í™”

#### íƒ€ê²Ÿ ì„±ëŠ¥
| í•­ëª© | ëª©í‘œ |
|------|------|
| FPS | 60 FPS |
| ì…ë ¥ ì§€ì—° | <50ms |
| ë©”ëª¨ë¦¬ | <300MB |
| APK í¬ê¸° | <100MB |

#### ìµœì í™” ê¸°ë²•
```
1. ë¸”ë¡ ì˜¤ë¸Œì íŠ¸ í’€ë§ (ë–¨ì–´ì§€ëŠ” ì¡°ê°)
2. LOD - ì™•êµ­ ë·°ì—ì„œ ë¨¼ ê±´ë¬¼ ê°„ì†Œí™”
3. ì˜¤í´ë£¨ì „ ì»¬ë§ - í™”ë©´ ë°– ê±´ë¬¼ ë¹„í™œì„±í™”
4. í…ìŠ¤ì²˜ ì•„í‹€ë¼ìŠ¤ - UI/ê±´ë¬¼ ìŠ¤í”„ë¼ì´íŠ¸
5. ë°°ì¹˜ ìµœì í™” - ë™ì  ë°°ì¹­ í™œìš©
```

### 4.7 ì„œë²„ ì—°ë™
```
[Firebase êµ¬ì„±]
- Authentication: ìµëª… + êµ¬ê¸€/ì• í”Œ
- Firestore: í† ë„ˆë¨¼íŠ¸ ë¦¬ë”ë³´ë“œ
- Remote Config: ì±Œë¦°ì§€ ì„¤ì •, ë°¸ëŸ°ìŠ¤
- Cloud Functions: ìˆœìœ„ ê³„ì‚°

[API]
POST /api/score/submit      - ì ìˆ˜ ì œì¶œ
GET  /api/tournament/rank   - í† ë„ˆë¨¼íŠ¸ ìˆœìœ„
GET  /api/tournament/reward - ë³´ìƒ ìˆ˜ë ¹
POST /api/kingdom/backup    - ì™•êµ­ ë°±ì—…
```

---

## 5. QA ì²´í¬ë¦¬ìŠ¤íŠ¸

### 5.1 ìŠ¤íƒœí‚¹ ë©”ì¹´ë‹‰
- [ ] Perfect íŒì • ì •í™•ë„
- [ ] ë¸”ë¡ ìŠ¬ë¼ì´ì‹± ì •í™•ì„±
- [ ] ì½¤ë³´ ì¹´ìš´íŠ¸ ì •í™•ì„±
- [ ] ì†ë„ ì¦ê°€ ê³¡ì„ 
- [ ] ë¬¼ë¦¬ ì‹œë®¬ë ˆì´ì…˜ ì•ˆì •ì„±

### 5.2 ì™•êµ­ ì‹œìŠ¤í…œ
- [ ] ê±´ë¬¼ ë°°ì¹˜ ì¶©ëŒ ê²€ì‚¬
- [ ] ì‹œë„ˆì§€ ê³„ì‚° ì •í™•ì„±
- [ ] ì˜¤í”„ë¼ì¸ ìˆ˜ìµ ê³„ì‚°
- [ ] ê·¸ë¦¬ë“œ í™•ì¥ ì‹œ ê¸°ì¡´ ê±´ë¬¼ ìœ ì§€

### 5.3 UI/UX
- [ ] í„°ì¹˜ ë°˜ì‘ì„±
- [ ] í•´ìƒë„ë³„ UI
- [ ] ê±´ë¬¼ ë“œë˜ê·¸ & ë“œë¡­
- [ ] ì¹´ë©”ë¼ ì¤Œ/íŒ¬ ì œìŠ¤ì²˜

### 5.4 ì„±ëŠ¥
- [ ] 50ì¸µ ìŠ¤íƒœí‚¹ ì‹œ 60FPS ìœ ì§€
- [ ] ì™•êµ­ ìµœëŒ€ ê±´ë¬¼ ë°°ì¹˜ ì‹œ ì„±ëŠ¥
- [ ] ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ì—†ìŒ
- [ ] ì €ì‚¬ì–‘ ê¸°ê¸° í…ŒìŠ¤íŠ¸

---

*ì‘ì„±ì¼: 2026ë…„ 1ì›” 27ì¼*
*ë²„ì „: 1.0*
